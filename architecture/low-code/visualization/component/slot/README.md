# 插槽

## 需求背景

组件部分区域需要支持自由定制，例如一个卡片有标题和内容，内容部分需要以插槽的形式定制，而标题和其他部分是固定的。

- Slider

    - slides：作用域插槽，可以判断当前 Slide 是否激活
    - Left Arrow：作用域插槽，可以判断是否第一项
    - Right Arrow：普通插槽，可以判断是否最后一项
    - Slide Nav：作用域插槽，会出

- Select

    - placeholder：正常的插槽
    - selectedContent：作用域插槽，默认显示选中项的名称，但可以插入自定义元素然后绑定当前选中值
    - children：作用域插槽，可以自定义每一项的渲染情况

- Dropdown

    - Toggle：普通插槽
    - List：普通插槽

- Fetcher 的 children、loading、error、empty 都是作用域插槽

## 功能要点

TODO

## 竞品分析

| 特性 | figma | webflow | plasmic |
| --- | --- | --- | --- |
| 组件插槽 | 不支持 | 不支持 | 支持 |

## 技术难点

### 插槽形态

- 虚拟节点：

    - 优点：类似于 React Fragment，插槽更加的纯粹，可以直接在原有的父容器里布局显示
    - 缺点：这种方式影响插槽在画布中的交互实现，无法在画布中选中插槽，并且拖拽也不好实现

- 容器节点

    - 优点：容易实现插槽在画布中的交互实现
    - 缺点：增加组件元素的结构复杂度，插槽子元素无法直接在原有的布局中显示
    
        例如，按钮组件可以提供两个插槽：图标和文本，图标和文本都在 button 里按 flex 布局居中显示，但是插槽是容器节点的话会导致图标和文本都被额外的一层布局包裹。

### 作用域插槽

插槽元素可以访问作用域插槽提供的数据，可以用于实现动态数据功能。
