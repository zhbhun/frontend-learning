<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Detail</title>
  <link rel="stylesheet" type="text/css" href="css/common.css">
  <link rel="stylesheet" type="text/css" href="css/base.css">
  <link rel="stylesheet" type="text/css" href="css/detail.css">
</head>
<body>
  <div class="navbar">
    <div class="placeholder">navbar</div>
  </div>
  <div id="main" class="container">
    <div id="sidebar">
        <div class="placeholder">sidebar</div>
    </div>
    <div id="content">
      <div class="panel">
        <div class="header topic-header">
          <h1>使用 KOA + Socket.io + React 编写的全栈web聊天应用</h1>
          <div class="changes">
            <span>&nbsp;发布于 5 天前</span>
            <span>&nbsp;作者&nbsp;<a href="/user/yinxin630">yinxin630</a></span>
            <span>&nbsp;708 次浏览</a></span>
            <span>&nbsp;最后一次编辑是 3 天前</a></span>
            <span>&nbsp;来自 分享</a></span>
            <button class="pull-right collect_btn">收藏</button>
          </div>
        </div>
        <div class="body">
          <div class="topic-content">
            <div class="markdown-text">
              <p>
在线地址: <a href="http://fiora.suisuijiang.com/" target="_blank">http://fiora.suisuijiang.com/</a>
源码地址: <a href="https://github.com/yinxin630/fiora" target="_blank">https://github.com/yinxin630/fiora</a>
              </p>
              <p>后端使用koa提供一个简易的http服务器, 并将所有路由定位到index.html处理. 使用socket.io前后端通讯, 数据库是MongoDB. 写了一个类似restful的基于method和path的路由, 使用generator处理异步.</p>
              <p>前端基于react框架, 资源大部分在cdn上(背景图打包进了js里), 使用immutable和redux处理数据, react-router提供路由(为了方便控制渲染逻辑, 暂不清楚能不能取消地址栏的变化),</p>
              <p>功能:</p>
              <ul>
                <li>私聊, 群聊, 创建群组, 退出群组.</li>
                <li>消息类型: 文本, 贴吧表情, 图片, url, 代码(高亮展示)</li>
                <li>用户头像, 群组头像, 群公告, 消息桌面提醒, 声音提醒</li>
                <li>消息长度限制, 消息频率限制, 新用户消息内容限制(过滤当日创建的用户的乱七八糟的消息, 譬如<code>asdfasdf</code>这种)</li>
                <li>支持两种恶搞消息, boom和system</li>
              </ul>
            </div>
          </div>
        </div>
      </div>
      <div class="panel">
        <div class="header">
          <span>6 回复</span>
        </div>
        <div class="body">
          <div class="reply_list">
            <div class="reply_item">
              <div class="author_content">
                <a href="/user/lonso" class="user_avatar">
                  <img src="https://avatars.githubusercontent.com/u/5660818?v=3&amp;s=120" title="lonso">
                </a>
                <div class="user_info">
                  <a class="dark reply_author" href="/user/lonso">lonso</a>
                  <a class="reply_time" href="#57fdc156fdf3bd3d65118543">1楼•5 天前</a>
                </div>
                <div class="user_action">
                  <span>
                    <i class="fa up_btn fa-thumbs-o-up invisible" title="喜欢"></i>
                    <span class="up-count">
                    </span>
                  </span>
                  <span>
                    <i class="fa fa-reply reply2_btn" title="回复"></i>
                  </span>
                </div>
              </div>
              <div class="reply_content">
                <div class="markdown-text">
                  <p>有没有测试过压力。。能支持多少活跃用户</p>
                </div>
              </div>
            </div>
            <div class="reply_item">
              <div class="author_content">
                <a href="/user/yakczh" class="user_avatar">
                  <img src="https://avatars.githubusercontent.com/u/6591466?v=3&amp;s=120" title="yakczh">
                </a>
                <div class="user_info">
                  <a class="dark reply_author" href="/user/yakczh">yakczh</a>
                  <a class="reply_time" href="#57fe00bf27a1d99178a98dc6">2楼•5 天前</a>
                </div>
                <div class="user_action">
                  <span>
                    <i class="fa up_btn fa-thumbs-o-up invisible" title="喜欢"></i>
                    <span class="up-count">
                    </span>
                  </span>
                  <span>
                    <i class="fa fa-reply reply2_btn" title="回复"></i>
                  </span>
                </div>
              </div>
              <div class="reply_content">
                <div class="markdown-text">
                  <p>多台服务器 组成一个逻辑聊天室，怎么搞？</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div id="footer">
    <div class="placeholder">footer</div>
  </div>
</body>
</html>
