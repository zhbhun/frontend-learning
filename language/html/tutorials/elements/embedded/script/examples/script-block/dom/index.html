<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Script Block</title>
  <link rel="preload" href="./eruda.js" as="script">
  <link rel="preload" href="./index.js" as="script">
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      setTimeout(() => {
        [
          './eruda.js',
          './index.js'
        ].forEach(function(src) {
          var script = document.createElement('script');
          script.src = src;
          script.async = false;
          document.head.appendChild(script);
        });
      }, 0);
    });
  </script>
</head>
<body>
  <h1>H1</h1>
  <img src="./large.jpg" alt="Image" height="100">
  <script>
    console.log('H1', document.body.children.length);
  </script>
  <h2>H2</h2>
  <script>
    console.log('H2', document.body.children.length);
    window.addEventListener('load', function () {
      if (window.performance && window.performance.getEntriesByType) {
        var timings = performance.getEntriesByType('resource');
        for (var index = 0; index < timings.length; index++) {
          const timing = timings[index];
          console.log(timing.name + ': ' + timing.connectStart + '|' + timing.requestStart + '|' + timing.responseEnd);
        }
      }
    });
  </script>
</body>
</html>
