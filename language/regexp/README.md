# 正则表达式

## 基础

- [正则表达式30分钟入门教程](https://deerchao.cn/tutorials/regex/regex.htm)

### 元字符

- `.`：匹配除换行符以外的任意字符
- `\s`：匹配任意的空白符
- `\w`：匹配字母或数字或下划线或汉字
- `\d`：匹配数字
- `\b`：匹配单词的开始或结束
- `^`：	匹配字符串的开始
- `$`：匹配字符串的结束

### 重复

- `*`：重复零次或更多次
- `+`：重复一次或更多次
- `?`：重复零次或一次
- `{n}`：重复 n 次
- `{n,}`：重复 n 次或更多次
- `{n,m}`：重复 n 到 m 次

### 字符转义

- `\`：`\\`
- `.`：`\.`
- `^`：`\^`
- `$`：`\$`
- `*`：`\*`
- `+`：`\+`
- `(`：`\(`
- `)`：`\)`

### 字符类

- `[aeiou]`
- `[0-9A-Za-z]`

### 分支条件

用 `|` 把不同的规则分隔开。

### 分组

用小括号来指定子表达式(也叫做分组)。

### 反义

- `\S`：匹配任意不是空白符的字符
- `\W`：匹配任意不是字母，数字，下划线，汉字的字符
- `\D`：匹配任意非数字的字符
- `\B`：匹配不是单词开头或结束的位置
- `[^x]`：匹配除了 x 以外的任意字符
- `[^aeiou]`：匹配除了 aeiou 这几个字母以外的任意字符

## 进阶

### 向后引用

默认情况下，每个分组会自动拥有一个组号，规则是：从左向右，以分组的左括号为标志，第一个出现的分组的组号为1，第二个为2，以此类推。

- `(exp)`：匹配 exp，并捕获文本到自动命名的组里，例如 `\b(\w+)\b\s+\1\b`
- `(?<name>exp)	` 或 `(?'name'exp)`：匹配exp,并捕获文本到名称为name的组里，例如 `\b(?<Word>\w+)\b\s+\k<Word>\b`
- `(?:exp)`：匹配 exp,不捕获匹配的文本，也不给此分组分配组号

### 零度断言

用于查找在某些内容(但并不包括这些内容)之前或之后的东西，也就是说它们像 \b, ^, $ 那样用于指定一个位置，这个位置应该满足一定的条件(即断言)，因此它们也被称为零宽断言。

- `(?=exp)`：零宽度正预测先行断言，匹配exp前面的位置
- `(?<=exp)`：零宽度正回顾后发断言，匹配exp后面的位置

### 负向零宽断言

- `(?!exp)`：匹配后面跟的不是exp的位置
- `(?<!exp)`：匹配前面不是exp的位置

### 注释

```
(?#comment)
```

这种类型的分组不对正则表达式的处理产生任何影响，用于提供注释让人阅读。

### 贪婪模式和非贪婪模式

- 贪婪模式：匹配尽可能多的字符

    当正则表达式中包含能接受重复的限定符时，通常的行为是（在使整个表达式能得到匹配的前提下）匹配尽可能多的字符。以这个表达式为例：a.*b，它将会匹配最长的以a开始，以b结束的字符串。

- 非贪婪模式：匹配尽可能少的字符

    。前面给出的限定符都可以被转化为懒惰匹配模式，只要在它后面加上一个问号?。这样.*?就意味着匹配任意数量的重复，但是在能使整个匹配成功的前提下使用最少的重复。现在看看懒惰版的例子吧：

默认情况下，正则用的都是贪婪模式，如果要使用非贪婪模式，需要在量词后面直接加上一个问号"?"，量词包括如下：

- `*?`：重复任意次，但尽可能少重复
- `+?`：重复1次或更多次，但尽可能少重复
- `??`：重复0次或1次，但尽可能少重复
- `{n,m}?`：重复n到m次，但尽可能少重复
- `{n,}?`：重复n次以上，但尽可能少重复

参考文献

- [正则表达式的贪婪和非贪婪模式](https://cloud.tencent.com/developer/article/1888200)
- [regex 贪婪模式 懒惰模式 正则表达式(regex) 贪婪模式、懒惰模式使用方](http://www.fresh-weather.com/article/283106.html)

### 处理选项

- 忽略大小写
- 多行模式
- 单行模式
- 忽略空白
- 显示捕获

### 平衡组/递归匹配

## 工具

- https://regexr.com/

## 参考

- [常见的50道正则表达式题目（建议收藏）](https://mp.weixin.qq.com/s?__biz=MzU2MTgxNjIzNg==&amp;mid=2247483823&amp;idx=1&amp;sn=886acdef650d139ddbbf002aec144776&amp;chksm=fc73b66ccb043f7af38275441643cd14ae1e91babc67dae166ffb4e9e2987c6a731c15835a9d&token=1368185608&lang=zh_CN#rd)
- [UUID 正则表达式](https://blog.csdn.net/jiangbo721/article/details/103047486)
- [正则表达式 - 教程](https://www.runoob.com/regexp/regexp-tutorial.html)
